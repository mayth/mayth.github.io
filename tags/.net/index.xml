<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>.NET on Hello, (forgotten) world ☂</title><link>https://aquarite.info/tags/.net/</link><description>Recent content in .NET on Hello, (forgotten) world ☂</description><generator>Hugo</generator><language>ja-jp</language><copyright>&amp;copy; 2021 Mei Akizuru. All rights reserved.</copyright><lastBuildDate>Fri, 20 Jun 2014 11:09:26 +0900</lastBuildDate><atom:link href="https://aquarite.info/tags/.net/index.xml" rel="self" type="application/rss+xml"/><item><title>miocatのその後、あるいはcoinsLT #0で発表した話</title><link>https://aquarite.info/blog/2014/06/miocat-at-coinslt0/</link><pubDate>Fri, 20 Jun 2014 11:09:26 +0900</pubDate><guid>https://aquarite.info/blog/2014/06/miocat-at-coinslt0/</guid><description>&lt;p&gt;情報科学類1年が企画した&lt;a href="http://atnd.org/events/51236"&gt;coinsLT #0&lt;/a&gt;（ATNDの方が情報量が多いのだが、一応&lt;a href="http://coinslt.org/zero.html"&gt;Webページ&lt;/a&gt;も存在している）で発表した。タイトルがクソ長いが要するにこのブログでいくつか投稿してきた、.NET FrameworkとMonoにおけるGetFullPathとかnew Uriの挙動の違いについてである。&lt;/p&gt;
&lt;iframe src="//www.slideshare.net/slideshow/embed_code/39806085" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen&gt; &lt;/iframe&gt; &lt;div style="margin-bottom:5px"&gt; &lt;strong&gt; &lt;a href="//www.slideshare.net/maytheplic/coinslt0-miocat" title="coinsLT#0 tkbctf3 miocatができるまで" target="_blank"&gt;coinsLT#0 tkbctf3 miocatができるまで&lt;/a&gt; &lt;/strong&gt; from &lt;strong&gt;&lt;a href="//www.slideshare.net/maytheplic" target="_blank"&gt;Mei Akizuru&lt;/a&gt;&lt;/strong&gt; &lt;/div&gt;
&lt;p&gt;実際の発表時の動画も公開されている。だいたい07:58あたりからが私の発表である。&lt;/p&gt;</description></item><item><title>Different Behaviors of DownloadString and Uri between .NET and Mono</title><link>https://aquarite.info/blog/2014/05/different-behaviors-of-downloadstring-and-uri-between-net-and-mono/</link><pubDate>Thu, 08 May 2014 07:43:38 +0900</pubDate><guid>https://aquarite.info/blog/2014/05/different-behaviors-of-downloadstring-and-uri-between-net-and-mono/</guid><description>&lt;p&gt;Note: This is the summary of my posts (they are written in Japanese):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://tech.aquarite.info/blog/2014/05/07/tkbctf3-miocat/"&gt;tkbctf3 Miocat&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://tech.aquarite.info/blog/2014/05/07/uri-parsing-in-webclient/"&gt;MonoのWebClientにおけるURI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://tech.aquarite.info/blog/2014/05/08/download-string-in-mono-and-dotnet-framework/"&gt;結局Monoと.NETの挙動の違いはなんだったのか&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I already reported this as a bug for Xamarin&amp;rsquo;s Bugzilla.&lt;/p&gt;
&lt;h1 id="introduction"&gt;Introduction&lt;/h1&gt;
&lt;p&gt;I found the different behavior of &lt;code&gt;WebClient.DownloadString(String)&lt;/code&gt; between Mono and .NET Framework when an invalid URI passed to it. In the Mono&amp;rsquo;s implementation, it may cause a security issue.&lt;/p&gt;
&lt;p&gt;This causes by two different behaviors, in &lt;code&gt;new Uri(String)&lt;/code&gt;, and &lt;code&gt;Path.GetFullPath(String)&lt;/code&gt;.&lt;/p&gt;
&lt;h1 id="downloadstring"&gt;DownloadString&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;DownloadString(String)&lt;/code&gt; and some methods (e.g. &lt;code&gt;DownloadFile(String)&lt;/code&gt;, &lt;code&gt;OpenRead(String)&lt;/code&gt;, etc.) calls &lt;code&gt;CreateUri(String)&lt;/code&gt;, a private method of &lt;code&gt;WebClient&lt;/code&gt;. (-&amp;gt; &lt;a href="https://github.com/mono/mono/blob/master/mcs/class/System/System.Net/WebClient.cs#L798"&gt;source code on github&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id="createuri-and-geturi"&gt;CreateUri and GetUri&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;CreateUri(String)&lt;/code&gt; tries to make an instance of &lt;code&gt;Uri&lt;/code&gt; with &lt;code&gt;new Uri(String)&lt;/code&gt;. If an invalid URI passed, the constructor raises an exception. For example, &lt;code&gt;new Uri(&amp;quot;http://../../../etc/passwd&amp;quot;)&lt;/code&gt; will be failed because its hostname part (&lt;code&gt;..&lt;/code&gt;) is invalid. However, the failure will be ignored, and &lt;code&gt;CreateUri(String)&lt;/code&gt; returns &lt;code&gt;new Uri(Path.GetFullPath(String))&lt;/code&gt;. It means the local file address with the full path will be returned.&lt;/p&gt;</description></item><item><title>結局Monoと.NETの挙動の違いはなんだったのか</title><link>https://aquarite.info/blog/2014/05/download-string-in-mono-and-dotnet-framework/</link><pubDate>Thu, 08 May 2014 06:49:41 +0900</pubDate><guid>https://aquarite.info/blog/2014/05/download-string-in-mono-and-dotnet-framework/</guid><description>&lt;p&gt;続・アレな文字を&lt;code&gt;WebClient.DownloadString(String)&lt;/code&gt;に渡すとローカルのファイルが読める&lt;/p&gt;
&lt;p&gt;ここ2つの記事でMonoの&lt;code&gt;WebClient.DownloadString(string)&lt;/code&gt;にアレな文字列渡すとローカルファイルを落としてきてしまうという挙動について調べてたわけですが、よくよくスタックトレースを見てみると、.NET Frameworkでも&lt;code&gt;GetUri&lt;/code&gt;というメソッドを経由して&lt;code&gt;Path.GetFullPath&lt;/code&gt;が呼ばれていたことがわかりました。&lt;/p&gt;</description></item></channel></rss>
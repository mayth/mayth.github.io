
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Hello (forgotten) world</title>
  <meta name="author" content="Mei Akizuru">

  
  <meta name="description" content="Note: This is the summary of my posts (they are written in Japanese): tkbctf3 Miocat
MonoのWebClientにおけるURI
結局Monoと.NETの挙動の違いはなんだったのか I already &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tech.aquarite.info/posts/2/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
   <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Hello (forgotten) world" type="application/atom+xml">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">

<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Lato:400,100,100italic,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lora:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:200,300,400,500,600,700,900' rel='stylesheet' type='text/css'>




  

</head>

<body   >
  <header role="banner"><hgroup>
</hgroup>

</header>
  <!-- <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tech.aquarite.info" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav> &#8211;>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/08/different-behaviors-of-downloadstring-and-uri-between-net-and-mono/">Different Behaviors of DownloadString and Uri Between .NET and Mono</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-08T07:43:38+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Note: This is the summary of my posts (they are written in Japanese):</p>

<ul>
<li><a href="http://tech.aquarite.info/blog/2014/05/07/tkbctf3-miocat/">tkbctf3 Miocat</a></li>
<li><a href="http://tech.aquarite.info/blog/2014/05/07/uri-parsing-in-webclient/">MonoのWebClientにおけるURI</a></li>
<li><a href="http://tech.aquarite.info/blog/2014/05/08/download-string-in-mono-and-dotnet-framework/">結局Monoと.NETの挙動の違いはなんだったのか</a></li>
</ul>


<p>I already reported this as a bug for Xamarin&rsquo;s Bugzilla.</p>

<h1>Introduction</h1>

<p>I found the different behavior of <code>WebClient.DownloadString(String)</code> between Mono and .NET Framework when an invalid URI passed to it. In the Mono&rsquo;s implementation, it may cause a security issue.</p>

<p>This causes by two different behaviors, in <code>new Uri(String)</code>, and <code>Path.GetFullPath(String)</code>.</p>

<h1>DownloadString</h1>

<p><code>DownloadString(String)</code> and some methods (e.g. <code>DownloadFile(String)</code>, <code>OpenRead(String)</code>, etc.) calls <code>CreateUri(String)</code>, a private method of <code>WebClient</code>. (-> <a href="https://github.com/mono/mono/blob/master/mcs/class/System/System.Net/WebClient.cs#L798">source code on github</a>)</p>

<h2>CreateUri and GetUri</h2>

<p><code>CreateUri(String)</code> tries to make an instance of <code>Uri</code> with <code>new Uri(String)</code>. If an invalid URI passed, the constructor raises an exception. For example, <code>new Uri("http://../../../etc/passwd")</code> will be failed because its hostname part (<code>..</code>) is invalid. However, the failure will be ignored, and <code>CreateUri(String)</code> returns <code>new Uri(Path.GetFullPath(String))</code>. It means the local file address with the full path will be returned.</p>

<p>In .NET Framework, <code>DownloadString(String)</code> calls <code>GetUri(String)</code>, and it may have the same behavior as <code>CreateUri(String)</code>. (I didn&rsquo;t read its implementation, but I guess it from the stack trace when an exception is thrown.)</p>

<h1>Uri constructor</h1>

<p>In .NET, <code>new Uri(String)</code> fails when an invalid URI with a known scheme is given (e.g. <code>http://../../etc/passwd</code>), however, it <em>succeeds</em> when a invalid URI with <em>an unknown scheme</em> is given (e.g. <code>abc://../../etc/passwd</code>).</p>

<p>In Mono, <code>new Uri(String)</code> fails for both cases.</p>

<p>This is the first different behavior.</p>

<h1>Path.GetFullPath</h1>

<p>While <code>Path.GetFullPath</code> fails for URIs which has known schemes in .NET, it succeeds for any URIs in Mono.</p>

<p>For example, <code>http://../etc/passwd</code> is given, .NET&rsquo;s <code>Path.GetFullPath</code> fails with ArgumentException (&ldquo;URI formats are not supported.&rdquo;), but Mono&rsquo;s succeeds and returns the full path like <code>/home/mayth/etc/passwd</code>.</p>

<p>Another example: <code>abc://../etc/passwd</code> is given, .NET&rsquo;s <code>Path.GetFullPath</code> will succeeds, and Mono&rsquo;s also succeeds.</p>

<p>This result shows that .NET&rsquo;s implemantation may recognize the scheme of the given URI, and Mono&rsquo;s one may not.</p>

<p>This is the second different behavior.</p>

<h1>The Flow of DownloadString(String)</h1>

<h2>.NET</h2>

<h3>Invalid URIs with known scheme</h3>

<p>By default, &lsquo;known scheme&rsquo; means these schemes:</p>

<ul>
<li><a href="http://">http://</a></li>
<li><a href="https://">https://</a></li>
<li><a href="ftp://">ftp://</a></li>
<li>file://</li>
</ul>


<p>This is documented on MSDN (See: <a href="http://msdn.microsoft.com/en-us/library/bw00b1dc.aspx">WebRequest.Create Method (String)</a>).</p>

<p>parameter: addr = <code>http://../../etc/passwd</code></p>

<ol>
<li><code>GetUri(addr)</code> is called</li>
<li>Try to <code>new Uri(addr)</code>, and it fails</li>
<li>An exception is ignored, and <code>Path.GetFullPath(addr)</code> is called</li>
<li><code>Path.GetFullPath(addr)</code> throws ArgumentException with the message: &ldquo;URI formats are not supported.&rdquo;</li>
</ol>


<h3>Invalid URIs with unknown scheme</h3>

<p>parameter: addr = <code>abc://../../etc/passwd</code></p>

<ol>
<li><code>GetUri(addr)</code> is called</li>
<li>Try to <code>new Uri(addr)</code>, and it succeeds.</li>
<li><code>GetUri(addr)</code> returns the result of step2.</li>
<li><code>WebRequest.Create</code> is called.</li>
<li>It throws NotSupportedException because it does not know how to handle the given URI&rsquo;s scheme.</li>
</ol>


<h2>Mono</h2>

<p>In Mono, there is no difference whether the URI&rsquo;s scheme is known or not.</p>

<p>parameter: addr = <code>http://../../etc/passwd</code></p>

<ol>
<li><code>GetUri(addr)</code> is called</li>
<li>Try to <code>new Uri(addr)</code>, and it fails</li>
<li>An exception is ignored, and <code>Path.GetFullPath(addr)</code> is called</li>
<li><code>Path.GetFullPath(addr)</code> returns the full path (e.g. <code>/home/etc/passwd</code>)</li>
<li>The full path passed to <code>new Uri(String)</code>. This may result <code>file:///home/etc/passwd</code>.</li>
<li>Attempt to acquire the resource, <code>file:///home/etc/passwd</code>.</li>
</ol>


<h1>Security Issue</h1>

<p>Like the samples shown above, <code>DownloadString(String)</code> can access to the local resource, like <code>/etc/passwd</code>.</p>

<h2>Directory Traversal</h2>

<p>If the program runs at /home/mayth, for example, the code below will returns the content of <code>/etc/passwd</code>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>WebClient.DownloadString("http://../../../etc/passwd")</span></code></pre></td></tr></table></div></figure>


<p>Of course, any files that is readable from the user who runs the program can be read. For example, the files in the home directory can be read.</p>

<p>The attackers can&rsquo;t know the listings of the directory, but they suggest it, or guess from <code>.bash_history</code> file.</p>

<h2>Full Path Disclosure</h2>

<p>If the program runs at <code>/home/mayth</code>, the code below will fail because it won&rsquo;t be found.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>WebClient.DownloadString("http://../../etc/passwd")</span></code></pre></td></tr></table></div></figure>


<p>In this case, an exception&rsquo;s message is: &lsquo;Could not find a part of the path &ldquo;/home/etc/passwd&rdquo;&rsquo;. If you output this message somewhere (stdout, log file, etc.), the attackers may be possible to see the full path.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/08/download-string-in-mono-and-dotnet-framework/">結局Monoと.NETの挙動の違いはなんだったのか</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-08T06:49:41+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>続・アレな文字を<code>WebClient.DownloadString(String)</code>に渡すとローカルのファイルが読める</p>

<p>ここ2つの記事でMonoの<code>WebClient.DownloadString(string)</code>にアレな文字列渡すとローカルファイルを落としてきてしまうという挙動について調べてたわけですが、よくよくスタックトレースを見てみると、.NET Frameworkでも<code>GetUri</code>というメソッドを経由して<code>Path.GetFullPath</code>が呼ばれていたことがわかりました。</p>

<p>そんなわけで<code>Path.GetFullPath</code>の挙動を見てみると、<code>http://../../../../etc/passwd</code>といったような文字列を与えたときに.NETとMonoで次のような挙動の違いが見られました。</p>

<ul>
<li>.NET Frameworkは「URIフォーマットはサポートしていない」というメッセージと共にArgumentExceptionが投げられる</li>
<li>Monoはそのままフルパスに変換する</li>
</ul>


<p>.NET上で同じことをしても<code>DownloadString(string)</code>がここまで問題にしてきた挙動をしなかったのは、ここで例外を吐いて止まっていたから、というだけのことだったわけです。</p>

<h1>スキーム</h1>

<p>ところでスキームをhttpじゃなくて適当な何かに変えたらどうなるんだろうと思って試してみました。</p>

<p>与える文字列を<code>abc://../../../../etc/passwd</code>といったように、実在しないような適当なスキームに変えて同じプログラムを動かしたところ、.NETではUriとしてのパースに成功しました。httpスキームのときは最初の部分をhostnameとして認識していたので、恐らくスキームを見てフォーマットを認識してるんでしょう。</p>

<p>さて、.NETにおいてはパースの結果<code>abc://../etc/passwd</code>になりました。なぜか<code>../</code>の部分がひとつにまとめられていましたがこれは一体どういう挙動なんでしょう。それはともかく、この結果を踏まえた上で同じ文字列を<code>WebClient.DownloadString(string)</code>に渡すと、今度は「そんなURIプリフィックスは知らん」とNotSupportedExceptionを投げられました。<code>WebRequest.Create</code>の中から呼ばれているようなので、前述の<code>GetUri</code>などは成功しているようです（というか、new Uriが成功するんだからそら成功するだろう）。で、<a href="http://msdn.microsoft.com/ja-jp/library/bw00b1dc%28v=vs.110%29.aspx">System.Net.WebRequest.Create(String)</a>を見ると、やはり渡されたURIのスキームに対応するものがない、という例外でよさそうです。どんなURIが渡されてもこれが呼ばれるとするなら、<code>http(s)://</code>、<code>ftp://</code>、<code>file://</code>のいずれにも該当しないURIは常に弾かれることになります。</p>

<p>Monoの場合、まず<code>new Uri(String)</code>が<code>UriFormatException</code>で失敗します。ということは前の記事で述べた通り<code>Path.GetFullPath</code>が呼ばれることになり、やはりこの場合でもローカルのファイルが読めてしまいます。</p>

<h1>まとめ</h1>

<p>結局何がこの挙動の違いを生み出していたのかというと以下の2点だと考えられます。</p>

<ul>
<li>Monoの<code>new Uri(String)</code>が未知のスキームを持つURIに対して失敗する（.NETは成功する）</li>
<li>Monoの<code>Path.GetFullPath(String)</code>がURIであるような文字列に対して成功する（.NETは失敗する）</li>
</ul>


<p>とりあえずバグレポートも書いたのでこの件は一段落ということでいいんじゃないんでしょうか……（遠い目）</p>

<p>（バグレポート、type=&ldquo;text&#8221;なフィールドでEnter叩いちゃって途中送信されて慌てて削除する方法を探してみるも見当も付かず、結局コメントで「途中送信しちゃった許してくださいお願いします何でもしますから」って言いながらレポート書き直したのは内緒だぞっ）</p>

<p>あと、整理のために<code>DownloadString(String)</code>の処理の流れを書いておきます。</p>

<h2>.NET</h2>

<h3>既知のスキームを持つ不正なURI</h3>

<p>given: <code>http://../../etc/passwd</code></p>

<ol>
<li><code>GetUri</code>が呼ばれる</li>
<li>たぶん内部的に<code>new Uri(String)</code>して失敗する</li>
<li>たぶんその結果<code>Path.GetFullPath(String)</code>が呼ばれる</li>
<li><code>Path.GetFullPath(String)</code>がArgumentExceptionを投げる (&ldquo;URI formats are not supported.&rdquo;)</li>
</ol>


<h3>未知のスキームを持つ不正なURI</h3>

<p>given: <code>abc://../../etc/passwd</code></p>

<ol>
<li><code>GetUri</code>が呼ばれる</li>
<li>たぶん内部的に<code>new Uri(String)</code>して成功する</li>
<li>成功したのでその結果をそのまま返す</li>
<li><code>WebRequest.Create</code>が呼ばれる</li>
<li><code>WebRequest.Create</code>が未知のスキームに対応できずNotSupportedExceptionを投げる</li>
</ol>


<h2>Mono</h2>

<h3>既知のスキームを持つ不正なURI</h3>

<p>given: <code>http://../../etc/passwd</code></p>

<ol>
<li><code>CreateUri</code>が呼ばれる</li>
<li><code>new Uri(String)</code>して失敗する</li>
<li><code>Path.GetFullPath(String)</code>が呼ばれる</li>
<li><code>Path.GetFullPath(String)</code>が成功し、結果を返す (e.g. <code>/home/etc/passwd</code>)</li>
<li>その結果を<code>new Uri(String)</code>に渡す (結果<code>file:///home/etc/passwd</code>なUriが返る)</li>
<li>それを取得する (この場合は（たぶん）そのファイルがないので例外を吐く）</li>
</ol>


<h3>未知のスキームを持つ不正なURI</h3>

<p>given: <code>abc://../../etc/passwd</code></p>

<ol>
<li><code>CreateUri</code>が呼ばれる</li>
<li><code>new Uri(String)</code>して失敗する</li>
<li><code>Path.GetFullPath(String)</code>が呼ばれる</li>
<li><code>Path.GetFullPath(String)</code>が成功し、結果を返す (e.g. <code>/home/etc/passwd</code>)</li>
<li>その結果を<code>new Uri(String)</code>に渡す (結果<code>file:///home/etc/passwd</code>なUriが返る)</li>
<li>それを取得する (この場合は（たぶん）そのファイルがないので例外を吐く）</li>
</ol>


<p>※.NETとの対比で両方書いたが、Monoの場合いずれも処理の流れは全く同じ</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/07/uri-parsing-in-webclient/">MonoのWebClientにおけるURI</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-07T13:33:03+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>発端</h1>

<p>発端は<a href="/blog/2014/05/07/tkbctf3-miocat/">前の記事</a>にあるように、tkbctf3の問題としてmiocatなるものを出してみたのはいいものの、意図とは異なる脆弱性を作り込んで250点問題が超絶ボーナス問題になりましたよ、というお話しです。</p>

<h1>調査</h1>

<p>miocatはC#で書かれており、実際の運用ではMonoランタイムで動いていました。というわけでMonoのソースコードを読めば解決です。やったね。</p>

<p>そういうわけでまずは<code>WebClient</code>の実装を読んでみたのですが、怪しい箇所が一発で見つかりました。<a href="https://github.com/mono/mono/blob/2d573ae1ceac1656f0293cca3736dcb10c28be38/mcs/class/System/System.Net/WebClient.cs#L798">WebClient.cs#798</a>、privateメソッドである<code>CreateUri(string)</code>なるメソッドです。<code>DownloadString(string)</code>は、その引数をこのメソッドに渡して<code>DownloadData(Uri)</code>を呼び出します。</p>

<p><code>try-catch</code>の中で渡されたアドレス（と、<code>baseAddress</code>）を元に<code>Uri</code>のインスタンスを作って<code>CreateUri(Uri)</code>に渡していますが、ここで例外が発生すると<code>return new Uri(Path.GetFullPath(address))</code>という恐怖のコードが走ります。</p>

<p>まず例外を発生させる方法ですが、これは簡単でURIとして不正なものを渡してあげればおしまいです。例えば<code>abc://;/etc/passwd</code>はhostname部がパース不能なので例外を吐きます。</p>

<p><code>System.IO.Path.GetFullPath(string)</code>というのは名前からお察しの通り、与えられたパスをカレントディレクトリからの相対パスと見なして絶対パスに変換します。ここで、例えばカレントディレクトリが<code>/home/kogasa</code>、引数が<code>http://etc/passwd</code>だとすると、結果は<code>/home/kogasa/http://etc/passwd</code>になります。要するに<code>http:</code>というディレクトリの下に<code>etc</code>ディレクトリがあって云々、という形になります。つまるところ連続する<code>/</code>はひとつにまとめられてしまうわけです。先ほどの例外を吐く例でいけば、<code>/home/kogasa/abc://;/etc/passwd</code>になります。</p>

<p>ところでWindowsだとパスに<code>:</code>が入ってると厄介なことになりそうというか、<a href="http://msdn.microsoft.com/ja-jp/library/system.io.path.getfullpath%28v=vs.110%29.aspx">MSDN的には</a><code>NotSupportedException</code>が投げられるべきところだと思うのですが、コレ大丈夫なんでしょうか。ぱっと見ただけだとそれらしいコード見当たらなかったんですが……。</p>

<p>※Windowsで<code>GetFullPath</code>に<code>http://etc/passwd</code>を与えてみたら、<code>ArgumentException</code>で「URLフォーマットには対応していません」みたいなことを言われました。で、<code>abc://;/etc/passwd</code>を与えると<code>NotSupportedException</code>で「指定されたパスのフォーマットはサポートされていません」と言われました。ちゃんとスキーム見てるんですね。</p>

<p>それはそれとして、そんな感じでフルパスを<code>Uri</code>のコンストラクタに与えると、<code>file:</code>スキームのURLになって返ってきます。こうなるとただのローカルに対するディレクトリ操作なので、例えば<code>abc://;/../etc/passwd</code>にするとフルパスは<code>/home/kogasa/abc:/etc/passwd</code>になりますし、もういっこ<code>../</code>を足せば<code>/home/kogasa/etc/passwd</code>——といった感じで<code>../</code>をつけていけば無事に<code>/etc/passwd</code>に辿り着けますね、やったね、ということでした。</p>

<p>Monoの実装自体がヤバいのか、それともWindows以外で動かした結果ああなったのかまでは知りませんが、ひとまずそんな感じになりました。Windowsで動かしてたらあの解法は通らなかったのかなぁとかぼんやり思いながらそもそももっとマシな実装しておけばよかったと反省しきり。</p>

<p>それにしても繰り返しになりますが結構このURLとしてのパース失敗時の回復の仕方がヤバい気がするんですが、これは意図的に.NET Frameworkと異なる実装にしているのか特に理由はないけどこうなってるのか、はてさて。</p>

<h1>まとめ</h1>

<p><strong>もっと恐ろしいMonoの片鱗を味わったぜ…</strong></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/07/tkbctf3-miocat/">Tkbctf3 Miocat</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-07T13:26:00+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>miocat（みお・きゃっと）はとある伝説の脱ヲタエンジニアが書き上げた伝説のプログラムに着想を得てっていうのはどうでもいいとして、実際のところは.NET Frameworkのとある仕様に関する問題です。<strong>でした</strong>。以下本来の意図の説明です。</p>

<h1>ソースコード</h1>

<p>と、その前に。今回のソースコードは<a href="https://github.com/tkbctf/archive">tkbctf/archive</a>に上げておきます。結構問題の核心以外の部分で苦労してたりしますがそれはそれということで。</p>

<p>追記: 上げました -> <a href="https://github.com/tkbctf/archive/tree/master/tkbctf3/web250_miocat">tkbctf/archive/tkbctf3/web250_miocat</a></p>

<h1>問題の説明</h1>

<p>指示されたアドレスにWebブラウザからアクセスすると、タイトルとフォーム（入力フィールド1つとボタン1つ + <code>hidden</code>のフィールド）のやる気の無いWebページが表示されます。</p>

<p>このフォームに適当なURLを入力して（このURLを<strong>ターゲットURL</strong>と言うこととします）<code>nya!</code>ボタンを押すと、ターゲットURLに対してmiocatサーバーがリクエストを行い、その結果をそっくりそのままレスポンスとして返します（<code>title</code>の中身だけ少し変わっていますが）。</p>

<p>実際には<code>http://</code>や<code>file://</code>など、スキーマ（らしき文字列）が先頭にないと<code>not acceptable</code>が表示されます。それらしき文字列であればなんでもいいので、<code>abc://</code>でも通ります。また、サーバーは外部へのアクセスが遮断された状態で稼働していたので、<code>http://www.google.com</code>などをターゲットに指定しても失敗します。</p>

<p>さて、miocatはターゲットURLを上述の「スキーマらしき文字列があるかどうか」のチェックをした後で、それが<code>file://</code>であるか否かのチェックをします。ここで<code>file://</code>であった場合も<code>not acceptable</code>のエラーになります。ところがこれをすり抜ける方法があります。それはMSDNの<a href="http://msdn.microsoft.com/ja-jp/library/dd465121(v=vs.110">.NET Framework で文字列を使用するためのベスト プラクティス</a>.aspx)にも記載されているまさにそのままの方法です。つまり、フォームのhiddenになっていた<code>locale</code>の値、およびクエリパラメータに含まれる<code>locale</code>の値がそのスレッドのカルチャになっているので、<code>locale=tr-TR</code>なんて値を指定すると見事にトルコ語ロケールに切り替わり、<code>FILE://</code>で始まっているかのどうかの比較をカレントスレッドのロケールで行うためにチェックをすり抜けてしまいます。</p>

<p>ということは、トルコ語ロケールに切り替えてしまえば<code>file://...</code>であるようなURLでもmiocatがリクエストを出します。これはmiocatが動作するユーザーが読めるファイルは全て読めることを意味しています。なので<code>/etc/passwd</code>を読んでみたり（`/etc/passwdにはヒントというか、「これを読め」という指示が書かれていました）適当に推測してみたりして、結果的にflagファイルを読めればおしまいです。</p>

<p>miocatの仕組みというか中身は以上です。まぁ、.NETのその仕様を知っていれば一瞬で解けてしまうような問題でした。過去2回F#とILを読ませる問題だったので、少し捻った.NET系の問題を出してみようと思った結果コレになりました。</p>

<h2>ディレクトリトラバーサル</h2>

<p>しかしながら現実とは非情な物でして、ディレクトリトラバーサルの脆弱性を素で作り込んでいました。というか、内部的には上記のURLチェックをした後に<code>WebClient</code>の<code>DownloadString(string)</code>を呼んでるだけなんですが、まさかそいつが普通にカレントディレクトリを読みに行くとは全く予想しておらずチェックもしていなかったというのが実際のところです。いやまぁ、普通与えられたURLをそのまま読みに行くなんて無茶苦茶なことはしないと思うので問題にはならないんでしょうけど。</p>

<p>というわけでその場合はどのようにするかと言いますと、<code>hoge://../../../etc/passwd</code>とかなんとかすると<code>/etc/passwd</code>が読めるので後は上記と同じです。<code>file://</code>と同じように<code>http:///etc/passwd</code>とかすると<code>/home/miocat/http:/etc/passwd</code>を読みにいくんですが、この辺りの仕様は正直私もわかってません。WebClientとかUriの実装読めというお告げなんですかねコレ。（この辺は別の記事でやりたいと思います）</p>

<p><del>スキーマの部分切り落として</del><strong>訂正: 切り落としてるのではなく、単にディレクトリとして認識されていた模様（つまり<code>abc://etc...</code>は<code>/home/miocat/abc://etc...</code>）</strong>カレントディレクトリを基点にしてファイルを読みに行くのが個人的に結構ヤバイ挙動だと思ってるんですがどうなんでしょう……。</p>

<h2>エラー処理</h2>

<p>あとこれも完全な手落ちでしたがエラーメッセージにフルパスぶち込まれてるのも良くなかったですね。はい。すっごい初歩的なところですが……。</p>

<h1>まとめ</h1>

<p>普通に安全なプログラムを書いてから穴を開けるべきだったんだろうなぁと思ってます。今までバイナリ（というかC#/IL）を読ませるような問題しか書いてなくて、こういうタイプの問題は初めてだったわけですけど、難しいですね。（ていうかなぜド素人が問題書いてるのか）</p>

<p>それ以外にも、この方針で行こうと決めてから難易度低すぎなのでアレやコレやと思索してみてやっぱり没になったとか、grepが高速化した云々でちょうどトルコ語らへんが話題になって「あっこれヤバくね」とか思ったりとかいろいろありました。</p>

<p>次のtkbctfはどうなるのかわかりませんが、そろそろ筑波大学期待の新人達が私たちよりよっぽど上手くやってくれるんじゃないかなと期待しております。それでは。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/06/clang-format-on-mac/">MacのSublime Text 3でもclang使って整形とか補完とかしたい</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-06T08:56:44+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>clang-formatによるコード整形</h1>

<p>MacのCommand Line Toolsには<code>clang-format</code>がない。<code>clang-format</code>というのはその名前の通り、ソースコードをclangに静的解析させて自動で整形しようというツール。</p>

<p>対応しているコーディングスタイルは次の5つ。</p>

<ul>
<li>LLVM</li>
<li>Google</li>
<li>Chromium</li>
<li>Mozilla</li>
<li>WebKit</li>
</ul>


<p>また、全く独自のコーディングスタイルを設定することもできるし、あるいはこれらのコーディングスタイルを元に一部を自分好みに変更した設定も可能である。かなり自由。</p>

<p>さて、これ別に自分でコンパイルする必要もなく（LLVMとclang自体が）バイナリ形式で提供されていたりする。便利な世の中だ。<a href="http://llvm.org/releases/download.html">LLVM Download Page</a>から入手できる。Mac向けは&#8221;Clang for Darwin&#8221;。</p>

<p>ダウンロードしたファイルを適当なフォルダに展開してパスを通せば<code>clang-format</code>が使えるはず。なお<code>clang-format</code>以外のものも全部パスが通った場所に置いた場合のシステムの挙動は確かめてない（別にどうってことはないかもしれないし、どっかで何かおこるかもしれない）。</p>

<p>Sublime Textとの連携については公式からプラグインが提供されている（なぜか<a href="http://clang.llvm.org/docs/ClangFormat.html">ドキュメント</a>には言及がないが……）。</p>

<p>まずはツリーから当該のプラグインを落としてくる。 -> <a href="https://llvm.org/svn/llvm-project/cfe/trunk/tools/clang-format/clang-format-sublime.py">https://llvm.org/svn/llvm-project/cfe/trunk/tools/clang-format/clang-format-sublime.py</a></p>

<p>ソースコード冒頭に簡単な説明があるのでそれに従う。まずはこのファイルを<code>~/Library/Application Support/Sublime Text 3/Packages/User</code>以下に入れる。次にSublime TextのPreferences -> Key Bindings - Userを選んでキーバインドの設定ファイルを開き次の一行を追加する（説明ではCtrl+Shift+Cになっているのでそのようにしたが適宜変える）。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{ "keys": ["ctrl+shift+c"], "command": "clang_format" }</span></code></pre></td></tr></table></div></figure>


<p>これで<code>clang-format</code>にパスを通してあれば動くはずなのだがなぜか動かなかった。<code>clang-format</code>がないというエラーメッセージが出ていたので、説明から少し下にある<code>binary</code>の値をフルパスに変更して無事に動作した。</p>

<p>なお、このとき使われるコーディングスタイルは<code>.clang-format</code>を参照する設定になっている（<code>binary</code>のもう少し下に<code>style</code>の設定があり、これが&#8217;file&#8217;となっている）。<code>style=file</code>となっているのに<code>.clang-format</code>ファイルが存在しない場合、LLVMスタイルが選択される。<code>clang-format</code>の<code>-dump-config</code>オプションで設定を出力できるのでこれを<code>.clang-format</code>として出力させつつ適宜スタイルを修正すると幸せになれる予感がする。</p>

<h1>コード補完</h1>

<p>（コードを読み書きする人間を除いて）コードの解釈を一番よく知っているのはコンパイラなんだから、コンパイラにコード補完のバックエンド的な役割をさせようという話。Haxeのコンパイラはこの仕組みを持っていて、コンパイラがサーバーとして動作して、そこにリクエストを投げると型情報やら何やらを返してくれる、という機能がある。あったはず。</p>

<p>同じ事をclangでやろうというお話なのだが、ググると主に紹介されている<a href="https://github.com/quarnster/SublimeClang">quarnster/SublimeClang</a>はREADMEの初っ端に<strong>Plugin discontinued</strong>と書かれている。オワコン。</p>

<p>そんなわけで同じ作者の後継作たる<a href="https://github.com/quarnster/completion">quarnster/completion</a>を試す。</p>

<p>まず大前提としてこれGoで書かれているのでGoの環境が必要である。<a href="http://golang.org/doc/install">公式のパッケージ</a>もあるし、Homebrewでもインストールできる。あと今回の場合はgitとMercurialも必要。</p>

<p>普段Goを書いてないからかもしれないが、Goの開発環境の構築はちょっとクセがあるように見える。環境入れてコンパイラとかにパス通してはいおしまい、とはいかない。<a href="http://golang.org/doc/code.html">ドキュメント</a>に沿って進める。（Homebrewでインストールしたときもこれ読めというメッセージが出るはず）</p>

<p>まずホームフォルダに<code>go</code>フォルダを作る。そして<code>GOPATH</code>という環境変数を設定する。ついでに<code>$GOPATH/bin</code>にもパスを通しておく。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ mkdir $HOME/go
</span><span class='line'>$ export GOPATH=$HOME/go
</span><span class='line'>$ export PATH=$PATH:$GOPATH/bin</span></code></pre></td></tr></table></div></figure>


<p>環境変数の設定は<code>.bashrc</code>なり<code>.zshrc</code>なりに書いておいた方がよいと思う。ここまで済ませた上で</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ go get -d github.com/quarnster/completion</span></code></pre></td></tr></table></div></figure>


<p>とするとお目当てのソースコードの他依存しているパッケージのソースコードもごそっと落としてくる（このときにMercurialとgitが必要になる）。</p>

<p>さて、これで<code>$GOPATH/src/github.com/quarnster/completion</code>にcloneされている。ビルドするには<code>build</code>ディレクトリに入って<code>make</code>すればよい。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd $GOPATH/src/github.com/quarnster/completion/build
</span><span class='line'>$ make</span></code></pre></td></tr></table></div></figure>


<p>ビルドに成功すると同じディレクトリに<code>completion</code>というバイナリが生成されている。Sublime Textにプラグインとしてインストールするにはそのまま</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ./completion install -st</span></code></pre></td></tr></table></div></figure>


<p>とする。Sublime Textの場所を探し出していい感じにインストールしてくれる（2と3を共存させていても両方にインストールする）。</p>

<p>あとはC/C++でのコーディングをお楽しみください。</p>

<h1>余談</h1>

<h2>ClangComplete</h2>

<p>ちなみに別のclangを用いたプラグインに<a href="https://github.com/pfultz2/ClangComplete">pfultz2/ClangComplete</a>というのがあったが、どうにも動かなかったので諦めた。というのもこのプラグインおおよそLinuxの方しか向いていないようにしか思えない状態だった。一応ある程度のところまで作業したのでメモしておく。</p>

<p>まずこのリポジトリ自体をそのままSublime Textのプラグインディレクトリにcloneする。その後<code>ClangComplete/complete</code>ディレクトリに移動して<code>make</code>すると見事に失敗する。</p>

<p>Python3.3のヘッダーファイルが見つからないと言っているので<code>PKG_CONFIG_PATH</code>を設定する。HomebrewでPython3.3が入っていれば（なければ入れる）、<code>/usr/local/Cellar/python3/3.3.3/Frameworks/Python.framework/Versions/3.3/lib/pkgconfig</code>にある（3.3.3の辺りはバージョンによる。これ更新されたらどうなるんだ）。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PKG_CONFIG_PATH=/usr/local/Cellar/python3/3.3.3/Frameworks/Python.framework/Versions/3.3/lib/pkgconfig</span></code></pre></td></tr></table></div></figure>


<p>次、clangのヘッダファイルがないと言い出す。<code>Makefile</code>を編集する。<code>CLANG_PREFIX</code>を設定している箇所を消して、上で述べたclang+llvmのバイナリパッケージを展開したディレクトリを指定する。仮に<code>$HOME/clang</code>に置いたとすれば<code>CLANG_PREFIX=$HOME/clang</code>とする。</p>

<p>次、<code>std::vector</code>なんてものはないというエラーが出まくる。そんなアホなと思って<code>complete.cpp</code>を見てみると<code>#include &lt;vector&gt;</code>がない。適当な場所に追加する。</p>

<p>（ちなみにこれ、gccでは通ったりするのだろうか。少なくとも大学のLinuxマシンに入っていたgcc 4.1.2でもエラーを吐いたが）</p>

<p>次、<code>-soname</code>なんてオプションは知らないと言い始める。これは単純に<code>-soname</code>を<code>-install_name</code>に置換してしまえばよい。 参考: <a href="http://stackoverflow.com/questions/4580789/cmake-mac-os-x-ld-unknown-option-soname">osx - CMake: Mac OS X: ld: unknown option: -soname - Stack Overflow</a></p>

<p>次、<code>-rpath</code>なんてオプションも知らないと言い出す。これは一旦<code>-rpath</code>を削除してしまう（<code>-Wl,-rpath...</code>でひとつのオプションなのでこのかたまりを消す。<code>-Wl</code>はリンカーに渡すオプションを指定するオプション）。いろいろ探し回った挙げ句、どうもこれを代替する手段はなさそうだった。</p>

<p>これでコンパイルが通る。だが実際にSublime Textを動かしてみると何も起きない。コンソールを確認すると<code>libclang.dylib</code>が見当たらずに<code>libcomplete.so</code>のロードが失敗している。前の段階で<code>-rpath</code>（ランタイムパスの指定）を消してるんだから当たり前だ。これを無理矢理にでも（今回の場合は）<code>$HOME/clang/lib</code>を見に行かせる必要がある。</p>

<p>そうして見つかったのが<a href="https://blogs.oracle.com/dipol/entry/dynamic_libraries_rpath_and_mac">Dynamic Libraries, RPATH, and Mac OS (Joe Di Pol&rsquo;s Blog)</a>という記事だった。これを読んだところ、<code>install_name_tool</code>というツールが備わっているのでそれを使って<code>libcomplete.so</code>を弄ってしまえばよさそうという感触。ただまぁ使い方も何もさっぱりわからないのでいろいろ試したところ、</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ install_name_tool -add_rpath $HOME/clang/lib libcomplete.so</span></code></pre></td></tr></table></div></figure>


<p>で<code>libcomplete.so</code>のロードに成功した。</p>

<p>が、いざコードを編集しようとするとプラグインが即死する。やはり世の中そう上手くは行かなかった。</p>

<p>もうよくわからなかったしこれ以上格闘してても無駄な気がしたので私はここでcompletionを使うことにした。のでプラグイン即死の理由とかその解決方法がわかったら@maytheplicまでリプください（真顔）。</p>

<h2>clang+llvmのディレクトリ構造</h2>

<p>clang+llvmのビルド自体はドキュメントを読めば割と簡単にできるのだけど、あのディレクトリ構造は永遠に理解できないかもしれない。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/23/rails-admin-jp-problem/">RailsAdminの日時選択が日本語でバグる</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-01-23T20:08:42+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>概略</h1>

<p>Rails Adminでdatetime型（日時）のカラムを含むモデルを操作する際、ロケールが日本語で、かつ<a href="https://github.com/svenfuchs/rails-i18n">svenfuchs/rails-i18n</a>のファイルをそのまま使っていると例外<code>ArgumentError</code>(argument out of range)で死ぬ。</p>

<h1>原因</h1>

<p>そもそも内部で使ってる<code>Date._parse</code>（これはRubyの標準ライブラリである&#8217;time&#8217;に含まれる）が日本語形式（<code>y年m月d日</code>）での日付のパースに対応していない。</p>

<h1>対策</h1>

<p><strong>「日本語を使わなければいいんじゃないかな」</strong></p>

<p>Rails AdminではjQuery UIのdatepicker/timepickerを使っています。<code>input</code>要素の<code>data-options</code>属性にオプションをJSON形式で渡していて、このオプションの中に月名や曜日名、日付または時刻のフォーマットが含まれています。なのでこのオプションを変更して、フォーマットを<code>Date._parse</code>が対応している形式に変更すれば対策出来ます。このオプションは使用しているロケールに依存します（JavaScriptの実行時点ではなくてビューのテンプレートがレンダリングされた時点でオプションの中身が決定されて引き渡されます）。</p>

<p>が、もはや一体どこを弄ったらjQueryの(date|time)pickerに日本語が渡らないように出来るか調べる気力もなくなってしまったので、ロケール側を弄ることで対処しました。</p>

<p>具体的には<code>config/locales/ja.yml</code>の<code>date.formats</code>、および<code>time.formats</code>以下に存在する各種日付や時刻の形式を<code>Date._parse</code>がパース出来、日本語を含まないような形式に変更します。<code>%Y-%m-%d</code>とか<code>%Y-%m-%d %H:%M:%S</code>とか、数値と記号だけで表記するように変更すると幸せになれると思います。</p>

<p>これはロケール単位で変更出来るので、日本語のみ月名・曜日を含むような形式を避ければ問題ないと思います。英語のロケールの方では<code>%B %d, %Y</code>(&lsquo;January 23, 2014&rsquo;)とかが標準ですが、<code>Date._parse</code>はこの辺の形式には対応しているので問題ないです。</p>

<p>または、日本語ロケールの月名・曜日名の定義をそのまま英語に差し替えてしまうという手もあります。日本語ロケールにおいてもフォーマットは英語ロケールと統一したいという場合にはこの方がいいと思います。</p>

<p>欠点としては、影響がRails Adminに限らずアプリ全体に及んでしまう点が挙げられます。</p>

<p>試してはいませんが、他にはRails Adminのビューを弄れば出来そうな予感はします。要は<code>input</code>要素の<code>data-options</code>属性の中身を変更出来ればいいわけなので、ビューをカスタマイズして適切な形式のフォーマットを渡すとか、あるいは単純にJavaScriptで実行時に書き換えてやるとか、いろいろやりようはありそうです。が、そもそもビューのカスタマイズが面倒そうだったのでやってません。</p>

<h1>おまけ: 調査の経過</h1>

<p>エラーを吐いたときのスタックトレースを見ながら各メソッドに渡っている引数を見ると、引数に渡っている文字列が<code>2014年01Mon23Sun(Thu) 09:00</code>になっていたのでこの辺を調べた。</p>

<p>日本語ロケールで使用する場合、管理画面上のdatetime pickerを使うとコントローラへは<code>2014年01月23日(木) 09:00</code>といった形式で選択した日時が渡る。RailsAdminはこれを<code>RailsAdmin::Config::Fields::Types::Datetime.parse_input</code>メソッドを使ってパースしようとする。</p>

<p>ここでパースするとき、<code>normalize</code>メソッドを通す。<code>normalize</code>メソッドはパースしようとする文字列と、フォーマット文字列を渡す（フォーマット文字列については<a href="http://docs.ruby-lang.org/ja/2.1.0/class/Time.html#I_STRFTIME">Time.strftime</a>の説明を見るとよさげ）。日時に関しては、概略で示した日本語ロケールのファイルの場合、これは<code>%Y年%m月%d日(%a) %H:%M</code>である。<code>normalize</code>メソッドからさらにメソッド呼び出しを辿ると最終的に<code>Date._parse</code>メソッドに文字列を渡してパースすることがわかった。</p>

<p>DateTimeに対応する<code>normalize</code>メソッドは、英語ロケール以外が選択されており、かつ月名（とその省略形）、曜日名（とのその省略形）、午前/午後のフォーマット文字列が含まれるときに、パース対象の文字列に含まれる英語以外のロケールのそれらを、英語ロケールに置換する。フォーマット文字列でいえば<code>%[AaBbp]</code>のいずれかが含まれる場合に該当する。つまり<code>2014年01月23日(木) 09:00</code>と<code>%Y年%m月%d日(%a) %H:%M</code>が渡ったときに、<code>2014年01月23日(Thu) 09:00</code>を返すはずである。</p>

<p>前述のフォーマット文字列には<code>%a</code>（曜日）が含まれるのでこの置換が発生するが、このとき単純に全ての曜日の文字を置換してしまう。要は「月」→&#8221;Mon&#8221;、「火」→&#8221;Tue&#8221;、「水」→&#8221;Wed&#8221;、…という置換をパース対象文字列に行うわけだが、「月」と「日」が曜日以外に現れるせいでこれが巻き込まれて形式が狂う。その結果として最初に示した<code>2014年01Mon23Sun(Thu) 09:00</code>になってしまう。「01月」の「月」と「23日」の「日」が置換されてしまったわけだ。</p>

<p>で、ここで文字列が壊れてしまったのが原因なんじゃないかと思ったが、ふとそこでデバッガを使ってパース対象文字列を強引に元の正しい文字列に直しても同じエラーが発生する。別のコンソールでpryを立ち上げて同じ文字列を<code>Date._parse</code>に食わせたところ、同じ結果が返ってくる。今回の場合、月の値が20になってしまっている。こうして問題は前述の置換処理でもなんでもなく、そもそも冒頭に述べたように<code>Date._parse</code>が「2014年01月23日」というような日本語の形式に対応していないかららしい、ということになった。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/23/hello/">ハロウフォゴットンワールド</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-01-23T07:20:02+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>よく見たらHello, World!だった。</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives/"> Archives </a>
    
    <a class="next" href="1">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section id="titles">
  <h1 id="site_title"><a href="http://tech.aquarite.info" title="Hello (forgotten) world">Hello (forgotten) world</a></h1>
  <h3 id="site_subtitle">Kogasa-chan is kawaii.</h3>
</section>

<section id="menu">
  <ul>
    <li><i class="fa fa-home fa-lg"></i><a href="http://tech.aquarite.info"> Home </a></li>
    <li><i class="fa fa-calendar fa-lg"></i><a href="http://tech.aquarite.info/blog/archives/"> Archives </a></li>
    <li><i class="fa fa-user fa-lg"></i><a href="http://tech.aquarite.info/about/"> About </a></li>
    <li><i class="fa fa-rss fa-lg"></i><a href="http://tech.aquarite.info/atom.xml"> Feed </a></li>
  </ul>
</section>

<section id="social">
  

  

  

  
    <a href="https://github.com/mayth" title="mayth"><i class="fa fa-github fa-2x"></i></a>
  

  

  
    <a href="https://twitter.com/maytheplic" title="maytheplic"><i class="fa fa-twitter fa-2x"></i></a>
  
</section>


<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/11/24/tkbctf4-amida/">tkbctf4 [misc 400] amida</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/24/tkbctf4-cheerofcpu/">tkbctf4 [bin300] Cheer of CPU</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/10/17/sublime-latex-yosemite/">YosemiteでSublime Text 3 + LaTeXToolsを使ったらPDF出てこない話</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/23/csawctf2014-forensics/">CSAW CTF 2014 Quals Forensics</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/22/csawctf2014-trivia/">CSAW CTF 2014 Quals Trivia</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/mayth">@mayth</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mayth',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Mei Akizuru -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
